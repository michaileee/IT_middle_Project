from operations import load_users, check_balance, deposit, withdraw

print('''\n========= рЃЉрЃљрЃюрЃЎрЃЮрЃЏрЃљрЃбрЃў! ==========''')
users = load_users()

while True:
        #рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃАрЃљ рЃЊрЃљ рЃърЃљрЃарЃЮрЃџрЃўрЃА рЃерЃћрЃДрЃЋрЃљрЃюрЃљ
        print('''\n-------- рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃљ --------''')
        username = input("\nрЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў: ")
        pin = input("\nрЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ PIN рЃЎрЃЮрЃЊрЃў: ")
        #рЃерЃћрЃДрЃЋрЃљрЃюрЃўрЃџрЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ рЃљрЃарЃўрЃА рЃЌрЃБ рЃљрЃарЃљ рЃЉрЃљрЃќрЃљрЃерЃў(рЃцрЃљрЃўрЃџрЃерЃў)
        if username in users and users[username]['pin'] == pin:
            print(f"\nрЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ, {username}!")
            while True:
                               
                choice = input('''\nрЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃљ:
                               
            1. ­Ъњ░ рЃЉрЃљрЃџрЃљрЃюрЃАрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
            2. ­ЪЊЦ рЃЌрЃљрЃюрЃ«рЃўрЃА рЃерЃћрЃбрЃљрЃюрЃљ
            3. ­ЪЊц рЃЌрЃљрЃюрЃ«рЃўрЃА рЃњрЃљрЃбрЃљрЃюрЃљ
            4. ­Ъћњ рЃњрЃљрЃЏрЃЮрЃАрЃЋрЃџрЃљ               

рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃљрЃарЃЕрЃћрЃЋрЃљрЃюрЃў (1-4): ''')

                if choice == '1':
                    check_balance(users, username)
                elif choice == '2':
                    deposit(users, username)
                elif choice == '3':
                    withdraw(users, username)
                elif choice == '4':
                    print("рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃЊрЃљрЃю рЃњрЃљрЃАрЃЋрЃџрЃљ.")
                    break
                else:
                    print("РЮї рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃў рЃљрЃарЃЕрЃћрЃЋрЃљрЃюрЃў, рЃАрЃфрЃљрЃЊрЃћрЃЌ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю.")
        else:
            print("РЮї рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ: рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў рЃљрЃю PIN рЃЎрЃЮрЃЊрЃў рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃўрЃљ.")
            
        retry = input("\nрЃњрЃАрЃБрЃарЃЌ рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃЌ рЃерЃћрЃАрЃЋрЃџрЃљ? (рЃЎрЃў/рЃљрЃарЃљ): ")
        if retry.lower() != 'рЃЎрЃў':
            print("­Ъћњ рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃўрЃА рЃЊрЃљрЃАрЃљрЃАрЃарЃБрЃџрЃў.")
            break